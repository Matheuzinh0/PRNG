name: Executar Testes

on:
  push:
    branches:
      - main 
  pull_request:
    branches:
      - main 

jobs:
  run:
    runs-on: ubuntu-latest

    steps:
      - name: Verificar c√≥digo
        uses: actions/checkout@v3
        with:
          lfs: true  # Habilita o suporte ao Git LFS

      - name: Configurar e Executar em Docker
        run: |
          docker run --rm -v ${{ github.workspace }}:/workspace -w /workspace ubuntu:20.04 /bin/bash -c "
            apt update &&
            apt install -y autoconf automake libtool gcc g++ make libtestu01-0-dev &&
            cd TESTU01/TestU01-1.2.3 &&
            ./bootstrap.sh || true &&
            ./configure &&
            make &&
            sudo make install
          "
